# 北海道人生シミュレーター - Webアプリ版

北海道庁が公開している公式統計データを使って、ランダムに人生の軌跡を生成するWebアプリケーションです。

## 🌐 Webアプリの起動方法

### 1. 必要なライブラリのインストール

```bash
pip install -r requirements.txt
```

### 2. Webアプリの起動

```bash
streamlit run app.py
```

ブラウザが自動的に開き、`http://localhost:8501` でアプリが起動します。

## ✨ 機能

### 基本機能
- **人生生成**: ボタンをクリックするだけで、統計データに基づいた人生を生成
- **複数生成**: 一度に最大20人の人生を生成可能
- **再現性**: シード値を使用して同じ結果を再現可能

### 表示機能
- **詳細データ表示**: 各人生の詳細情報（出生地、進学、就職、死因など）を展開表示
- **データセット情報**: 使用している統計データの出典を確認可能
- **レスポンシブデザイン**: PC、タブレット、スマートフォンに対応

## 🎨 画面構成

### メイン画面
- タイトルとアプリの説明
- 人生生成ボタン
- 生成された人生のストーリー表示

### サイドバー
- 生成人数の設定（1〜20人）
- シード値の設定（再現性のため）
- データセット情報の表示切替

## 📊 使用データ

すべて北海道庁が公開している最新の公式統計データを使用しています：

1. **市町村別出生数** (188市町村) - 2024年
2. **市町村別高校進学率** (178市町村) - 2024年度
3. **市町村別大学進学率** (125市町村) - 2024年度
4. **大学進学先都道府県** (48都道府県) - 2024年度
5. **産業別労働者数** (18産業) - 2024年
6. **定年年齢分布** - 2022年（全国データ）
7. **年齢別死亡者数** (0-99歳) - 2022年
8. **死因別死亡者数** (10種類) - 2022年

## 🚀 デプロイ方法

### Streamlit Cloudへのデプロイ

1. GitHubにリポジトリをプッシュ
2. [Streamlit Cloud](https://streamlit.io/cloud)にアクセス
3. GitHubリポジトリを連携
4. `app.py`を指定してデプロイ

### Herokuへのデプロイ

1. `Procfile`を作成：
```
web: streamlit run app.py --server.port=$PORT --server.address=0.0.0.0
```

2. `setup.sh`を作成：
```bash
mkdir -p ~/.streamlit/

echo "\
[server]\n\
headless = true\n\
port = $PORT\n\
enableCORS = false\n\
\n\
" > ~/.streamlit/config.toml
```

3. Herokuにデプロイ：
```bash
heroku create
git push heroku main
```

## 💻 開発モード

開発時は以下のコマンドで自動リロードを有効化：

```bash
streamlit run app.py --server.runOnSave=true
```

## 🛠 カスタマイズ

### テーマの変更

`.streamlit/config.toml`を作成してテーマを変更できます：

```toml
[theme]
primaryColor = "#1f77b4"
backgroundColor = "#ffffff"
secondaryBackgroundColor = "#f0f2f6"
textColor = "#262730"
font = "sans serif"
```

### UIの調整

`app.py`内のカスタムCSSセクションを編集してデザインを変更できます。

## 📱 ブラウザ対応

- Chrome（推奨）
- Firefox
- Safari
- Edge

## ⚠️ 注意事項

- データファイル（`data/`フォルダ）が必要です
- 初回起動時にデータの読み込みに数秒かかります
- 大量の人生を生成する場合、処理に時間がかかることがあります

## 📝 ライセンス

このプロジェクトで使用しているデータは、北海道庁が公開している公式統計データです。
各データの利用規約については、それぞれの提供元をご確認ください。

## 🤝 貢献

バグ報告や機能追加の提案は Issue でお知らせください。

---

元のコマンドライン版については `README.md` をご覧ください。

