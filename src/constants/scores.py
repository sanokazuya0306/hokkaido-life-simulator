"""
人生スコア計算のための統計データ定数

東京で生まれ育って最大限に充実した人生 = 100点 を基準とする
"""

# ============================================================================
# 出生地による機会格差（有効求人倍率ベース）
# 出典: 厚生労働省 一般職業紹介状況（2025年11月）
# ============================================================================
LOCATION_SCORES = {
    "東京": 100,  # 有効求人倍率 1.73（基準）
    "北海道": 54,  # 有効求人倍率 0.93（1.73の約54%）
}

# ============================================================================
# 性別による経済的機会格差
# 出典: 厚生労働省「賃金構造基本統計調査」2024年
# ============================================================================
GENDER_SCORES = {
    "男性": 100,  # 賃金100（基準）
    "女性": 76,   # 賃金75.8（男性の約76%）
}

# ============================================================================
# 学歴による生涯賃金格差
# 出典: 労働政策研究・研修機構「ユースフル労働統計」
# ============================================================================
EDUCATION_SCORES = {
    "大学卒": 100,  # 生涯賃金約2.7億円（基準）
    "高校卒": 75,   # 生涯賃金約2.0億円（大学卒の約75%）
    "中学卒": 60,   # 生涯賃金約1.6億円（大学卒の約60%）
}

# ============================================================================
# 大学進学先による機会格差
# 出典: 大学所在地の求人倍率と産業集積度
# ============================================================================
UNIVERSITY_DESTINATION_SCORES = {
    "東京都": 100,
    "神奈川県": 90,
    "大阪府": 85,
    "愛知県": 85,
    "京都府": 80,
    "兵庫県": 75,
    "福岡県": 70,
    "北海道": 60,
    "default": 65,
}

# ============================================================================
# 産業別の平均賃金スコア
# 出典: 厚生労働省「賃金構造基本統計調査」2024年
# ============================================================================
INDUSTRY_SALARY_SCORES = {
    "情報通信業": 100,
    "金融業，保険業": 95,
    "学術研究，専門・技術サービス業": 90,
    "電気・ガス・熱供給・水道業": 90,
    "教育，学習支援業": 85,
    "不動産業，物品賃貸業": 80,
    "製造業": 80,
    "建設業": 75,
    "運輸業，郵便業": 70,
    "卸売業，小売業": 65,
    "医療，福祉": 65,
    "複合サービス事業": 60,
    "サービス業（他に分類されないもの）": 55,
    "生活関連サービス業，娯楽業": 55,
    "農業，林業": 50,
    "漁業": 50,
    "宿泊業，飲食サービス業": 45,
    "default": 60,
}

# ============================================================================
# 死因によるスコア調整
# 「老衰」で亡くなるのは最も自然な死（高スコア）
# ============================================================================
DEATH_CAUSE_SCORES = {
    "老衰": 100,
    "その他": 80,
    "不慮の事故": 40,
    "自殺": 20,
    "default": 70,
}

# ============================================================================
# 各要素の重み（合計100%）
# ============================================================================
SCORE_WEIGHTS = {
    "location": 0.20,      # 出生地（20%）
    "gender": 0.15,        # 性別（15%）
    "education": 0.20,     # 学歴（20%）
    "university_dest": 0.05,  # 大学進学先（5%）
    "industry": 0.15,      # 就職産業（15%）
    "lifespan": 0.15,      # 寿命（15%）
    "death_cause": 0.10,   # 死因（10%）
}


def get_lifespan_score(age: int, gender: str) -> int:
    """
    寿命に基づくスコアを計算（長寿であるほど高スコア）
    
    出典: 厚生労働省「簡易生命表」2024年（平均寿命: 男性81.09歳、女性87.13歳）
    
    Args:
        age: 死亡時の年齢
        gender: 性別（"男性" or "女性"）
        
    Returns:
        0-100のスコア
    """
    # 理想的な寿命を90歳として100点
    ideal_age = 90
    min_score_age = 30  # 30歳以下で死亡は0点
    
    if age <= min_score_age:
        return 0
    elif age >= ideal_age:
        return 100
    else:
        # 30歳から90歳までを0点から100点にマッピング
        return int((age - min_score_age) / (ideal_age - min_score_age) * 100)
