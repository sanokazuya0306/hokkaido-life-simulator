# 🌏 北海道人生シミュレーター - プロジェクトサマリー

## 概要

北海道庁が公開している公式統計データを使って、ランダムに人生の軌跡を生成するシミュレーターです。
コマンドライン版とWebアプリ版（シンプル・拡張）の3つのバージョンがあります。

## 📦 提供ファイル

### メインプログラム
- `hokkaido_life_simulator.py` - コアシミュレーター（コマンドライン版）
- `app.py` - Webアプリ版（シンプル）
- `app_advanced.py` - Webアプリ版（拡張：統計・グラフ付き）

### 起動スクリプト
- `start.sh` - Webアプリ（シンプル版）起動スクリプト
- `start_advanced.sh` - Webアプリ（拡張版）起動スクリプト
- `check_setup.py` - セットアップ確認スクリプト

### ドキュメント
- `README.md` - メインドキュメント
- `README_WEB.md` - Webアプリ詳細ドキュメント
- `QUICKSTART.md` - クイックスタートガイド
- `FEATURES.md` - 機能一覧
- `SUMMARY.md` - このファイル

### 設定ファイル
- `requirements.txt` - 必要なPythonライブラリ
- `.streamlit/config.toml` - Streamlit設定
- `Procfile` - Herokuデプロイ用
- `setup.sh` - デプロイ用セットアップスクリプト

### データディレクトリ
- `data/` - 統計データファイル（CSV）
  - `birth_by_city.csv` - 市町村別出生数
  - `high_school_rate.csv` - 高校進学率
  - `university_rate.csv` - 大学進学率
  - `hokkaido_university_destinations.csv` - 大学進学先
  - `workers_by_industry.csv` - 産業別労働者数
  - `retirement_age.csv` - 定年年齢分布
  - `death_by_age.csv` - 年齢別死亡者数
  - `death_by_cause.csv` - 死因別死亡者数

## 🚀 クイックスタート

### 1. セットアップ確認

```bash
python3 check_setup.py
```

### 2. 必要なライブラリをインストール

```bash
pip3 install -r requirements.txt
```

### 3. 起動方法を選択

#### オプション A: Webアプリ（シンプル版）- 初心者におすすめ
```bash
./start.sh
```

#### オプション B: Webアプリ（拡張版）- 統計分析したい方向け
```bash
./start_advanced.sh
```

#### オプション C: コマンドライン版 - 自動化したい方向け
```bash
python3 hokkaido_life_simulator.py -n 10
```

## 📊 バージョン比較

| 機能 | コマンドライン | シンプル版 | 拡張版 |
|-----|-------------|-----------|--------|
| 基本的な人生生成 | ✅ | ✅ | ✅ |
| ブラウザUI | ❌ | ✅ | ✅ |
| 統計分析 | ❌ | ❌ | ✅ |
| グラフ表示 | ❌ | ❌ | ✅ |
| 大量生成 | ✅ | ❌ | ✅ |
| モバイル対応 | ❌ | ✅ | ✅ |

## 🎯 使い分けガイド

### こんな時は「シンプル版」
- 初めて使う
- 手軽に試したい
- 数人の人生を見たい
- スマホで見たい

### こんな時は「拡張版」
- データを分析したい
- グラフで可視化したい
- 100人以上生成したい
- 統計の傾向を知りたい

### こんな時は「コマンドライン版」
- スクリプトで自動化したい
- 大量データを生成したい（1000人以上）
- サーバー上で実行したい
- テキスト出力が必要

## 💡 主な機能

### コア機能
- 出生地の決定（188市町村から重み付き抽選）
- 高校進学の判定（市町村別進学率に基づく）
- 大学進学の判定（市町村別進学率に基づく）
- 大学進学先の決定（都道府県別データに基づく）
- 就職先産業の決定（産業別労働者数に基づく）
- 定年年齢の決定（定年年齢分布に基づく）
- 死亡年齢の決定（年齢別死亡者数に基づく）
- 死因の決定（死因別死亡者数に基づく）

### 統計分析機能（拡張版のみ）
- 主要指標の計算（進学率、平均寿命など）
- 出生地分布の可視化
- 産業分布の可視化
- 死因分布の可視化
- 大学進学先分布の可視化
- 年齢分布のヒストグラム表示

## 📈 使用データ

すべて北海道庁が公開している公式統計データ：

1. 市町村別出生数（2024年）- 188市町村
2. 高校進学率（2024年度）- 178市町村
3. 大学進学率（2024年度）- 125市町村
4. 大学進学先（2024年度）- 48都道府県
5. 産業別労働者数（2024年）- 18産業
6. 定年年齢分布（2022年）- 全国データ
7. 年齢別死亡者数（2022年）- 0-99歳
8. 死因別死亡者数（2022年）- 10種類

## 🔧 必要な環境

- **Python**: 3.8以上（推奨: 3.10以上）
- **OS**: macOS, Linux, Windows（WSL推奨）
- **ブラウザ**（Webアプリ版）: Chrome, Firefox, Safari, Edge

## 📦 依存ライブラリ

```
pandas>=1.3.0        # データ処理
requests>=2.25.0     # データダウンロード
openpyxl>=3.0.0      # Excel読み込み
streamlit>=1.28.0    # Webアプリ
plotly>=5.14.0       # グラフ表示（拡張版）
```

## 🌐 デプロイ方法

### Streamlit Cloudへのデプロイ
1. GitHubにリポジトリをプッシュ
2. Streamlit Cloudに連携
3. `app.py`または`app_advanced.py`を指定

### Herokuへのデプロイ
1. `Procfile`と`setup.sh`が既に用意されています
2. `heroku create`でアプリを作成
3. `git push heroku main`でデプロイ

## 📚 ドキュメント詳細

### README.md
- プロジェクト全体の概要
- セットアップ手順
- 基本的な使い方
- データセット情報

### README_WEB.md
- Webアプリの詳細説明
- 起動方法
- 画面構成
- デプロイ方法

### QUICKSTART.md
- 最速で起動する方法
- トラブルシューティング
- 基本的な使い方

### FEATURES.md
- 全機能の詳細説明
- バージョン比較
- パフォーマンス情報
- 教育用途

## 🎓 活用例

### 教育
- 統計学の実習
- プログラミング教育
- データサイエンス入門

### 研究
- 人口動態研究
- ライフコース分析
- 地域差の分析

### その他
- プレゼンテーション資料作成
- データ可視化の学習
- 北海道の統計データの理解

## 🔒 データのプライバシー

- すべての人生はランダム生成
- 実在の人物とは一切無関係
- すべてローカルで処理（外部送信なし）
- 公式統計データのみ使用

## 🤝 サポート

### 問題が発生した場合

1. **セットアップ確認**
   ```bash
   python3 check_setup.py
   ```

2. **ライブラリの再インストール**
   ```bash
   pip3 install -r requirements.txt --force-reinstall
   ```

3. **データファイルの確認**
   ```bash
   ls -lh data/
   ```

### よくある質問

**Q: データファイルがないとエラーが出ます**
A: サンプルデータで動作するはずですが、警告メッセージが表示されます。

**Q: Webアプリが起動しません**
A: `python3 check_setup.py`でセットアップを確認してください。

**Q: グラフが表示されません**
A: plotlyがインストールされているか確認してください。

**Q: モバイルで使えますか？**
A: はい、Webアプリ版はレスポンシブデザインでモバイル対応しています。

## 🚀 次のステップ

1. まず`QUICKSTART.md`を読んで起動してみる
2. Webアプリ（シンプル版）で基本機能を体験
3. Webアプリ（拡張版）で統計分析を体験
4. 必要に応じてコマンドライン版で自動化

## 📝 ライセンス

使用データは北海道庁が公開している公式統計データです。
各データの利用規約については提供元をご確認ください。

---

**製作**: 北海道人生シミュレータープロジェクト
**データ提供**: 北海道庁
**最終更新**: 2025年1月

